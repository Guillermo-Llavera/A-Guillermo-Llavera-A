<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="resutitulo">Resultados</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> <!-- jQuery para simplificar -->
  <script src="https://unpkg.com/i18next@21.6.3/i18next.min.js"></script> <!-- i18next -->
  <script src="https://kit.fontawesome.com/a076d05399.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  
  <style>
    .gender-info {
        display: none; /* Ocultar inicialmente */
    }
    .chart-container {
        max-width: 100%;
        height: 300px; /* Altura ajustable */
    }
  </style>
  
</head>

<body>
  <nav class="navbar navbar-expand-lg bg-danger navbar-light sticky-top">
    <div class="container">
      <!--<a class="navbar-brand" href="#">Resultados</a>-->
      <!-- Selector de idioma -->
      <div>
        <select id="language-selector" class="block py-2.5 px-0 w-full text-sm text-gray-800 bg-transparent border-0 border-b-2 border-gray-200 appearance-none dark:text-gray-400 dark:border-gray-700 focus:outline-none focus:ring-0 focus:border-gray-200 peer">
          <option value="es" selected>Español</option>
          <option value="en">English</option>          
        </select>
      </div>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#estadistica" data-i18n="resumenu1">Estadísticas</a></li>
          <li class="nav-item"><a class="nav-link" href="#comparacion" data-i18n="resumenu2">Comparación</a></li>
          <li class="nav-item"><a class="nav-link" href="#graficos" data-i18n="resumenu3">Gráficos</a></li>
          <li class="nav-item"><a class="nav-link" href="#analisis" data-i18n="resumenu4">Analisis</a></li>
          <a class="btn btn-door" href="index.html"> <i class="fas fa-door-open"></i></a>          
        </ul>
      </div>
    </div>
  </nav>

  <!--scrip para la internalizacion del contenido-->
  <script>
    //Función para cargar el archivo XML -->
   function loadTranslations(language) {
     var xhr = new XMLHttpRequest();
     xhr.open("GET", "internacional.xml", true);
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         var parser = new DOMParser();
         var xmlDoc = parser.parseFromString(xhr.responseText, "application/xml");

         var translations = {};
         var keys = xmlDoc.getElementsByTagName("key");
         for (var i = 0; i < keys.length; i++) {
           var name = keys[i].getAttribute("name");
           var value = keys[i].getElementsByTagName(language)[0].textContent;
           translations[name] = value;
         }

         i18next.init(
           {
             lng: language,
             resources: {
               [language]: {
                 translation: translations,
               },
             },
           },
           function (err, t) {
             document.querySelectorAll("[data-i18n]").forEach(function (element) {
               element.innerHTML = t(element.getAttribute("data-i18n"));
             });
           }
         );
       }
     };
     xhr.send();
   }

   // Cambiar idioma con el selector
   document.getElementById("language-selector").addEventListener("change", function () {
     loadTranslations(this.value);
   });

   // Idioma predeterminado al cargar la página
   window.onload = function () {
     loadTranslations("es");
   };
 </script>
<!--Aqui termina el script de la internalizacion del contenido-->
   
    <section class="bg-black">
      <div class="carousel-inner py-5" style="min-height: 100vh;">
          <div class="carousel-item active">
              <img src="pruebafotos/fondo8.webp" class="d-block w-100" alt="Menú saludable" style="height: 80vh; object-fit: cover; opacity: 0.7;">
              <div class="carousel-caption d-flex justify-content-center align-items-center h-100" style="background: rgba(0, 0, 0, 0.622);">
                  <h2 class="text-gradient fs-1 text-center animate__animated animate__bounceIn fw-bold" data-i18n="resubienvenido" >BIENVENIDO A NUESTROS RESULTADOS</h2>
              </div>
          </div>
      </div>
    </section>
    <style>
      .text-gradient {
      background: linear-gradient(90deg, #ff6a00, #ee0979);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: textAnimation 3s ease-in-out infinite;
      }

      @keyframes textAnimation {
          0%, 100% {
              transform: translateY(0);
          }
          50% {
              transform: translateY(-10px);
          }
      }
      body {
          background-image: url('pruebafotos/fondo3.avif')
      }
      
    </style>


  <div class="container my-5"> 
    <!-- Estadísticas generales -->
    <section id="estadisticas" class="mb-5">
      <div class="container">
          <h2 class="text-center mb-4 text-uppercase fw-bold text-primary" data-i18n="resuestadistica1">Estadísticas Generales</h2>
          <div class="card shadow-lg border-0">
              <div class="card-body p-4">
                  <ul class="list-group list-group-flush">
                      <li class="list-group-item d-flex justify-content-between align-items-center">
                          <span data-i18n="resuestadistica2">Comedia</span>
                          <span class="badge bg-primary rounded-pill">35%</span>
                      </li>
                      <li class="list-group-item d-flex justify-content-between align-items-center">
                          <span data-i18n="resuestadistica3">Drama</span>
                          <span class="badge bg-secondary rounded-pill">30%</span>
                      </li>
                      <li class="list-group-item d-flex justify-content-between align-items-center">
                          <span data-i18n="resuestadistica4">Ciencia ficción</span>
                          <span class="badge bg-success rounded-pill">20%</span>
                      </li>
                      <li class="list-group-item d-flex justify-content-between align-items-center">
                          <span data-i18n="resuestadistica5">Otros</span>
                          <span class="badge bg-danger rounded-pill">15%</span>
                      </li>
                  </ul>
              </div>
          </div>
      </div>
  </section>
  

    <!-- Comparación de gustos por regiones -->
    <div id="comparacion" class="bg-white p-4 rounded-lg shadow-lg mt-5">
      <h3 class="text-center  fw-bold text-primary mb-3" data-i18n="resucomparacion1">Comparación de Gustos por Regiones</h3>

        <div class="flex justify-center gap-8">
            <div class="text-center">
                <div class="bg-blue-500 text-white py-2 px-4 rounded-full">
                    <p class="font-bold" data-i18n="resucomparacion2">América del Norte</p>
                    <p data-i18n="resucomparacion3">45% Comedia</p>
                </div>
            </div>
            <div class="text-center">
                <div class="bg-pink-500 text-white py-2 px-4 rounded-full">
                    <p class="font-bold" data-i18n="resucomparacion4">Europa</p>
                    <p data-i18n="resucomparacion5">40% Drama</p>
                </div>
            </div>
            <div class="text-center">
                <div class="bg-green-500 text-white py-2 px-4 rounded-full">
                    <p class="font-bold" data-i18n="resucomparacion6">Asia</p>
                    <p data-i18n="resucomparacion7">35% Ciencia Ficción</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Gráficos interactivos de preferencia --><br> <br>
    <section id="graficos" class="mb-5">
      <div class="container">
          <h2 class="text-center mb-4 text-uppercase fw-bold text-info" data-i18n="resugraficos1">Gráficos Interactivos de Preferencia</h2>
          <div class="chart-container bg-light border rounded shadow p-4">
              <canvas id="preferenceChart"></canvas>
          </div>
          <p class="text-center mt-3 text-dark" data-i18n="resugraficos2">
              Este gráfico muestra la evolución de las preferencias de series por género a lo largo de los últimos meses.
          </p>
      </div>
  </section>
  
    <!-- Análisis detallado por género -->
    <section id="analisis" class="mb-5">
      <h2 class="text-center mb-4 fw-bold text-uppercase text-danger  p-3 rounded shadow-lg" data-i18n="resuanalisis1">
        Análisis Detallado por Género
    </h2>
    
        <div class="row mt-5">
            <div class="col-md-6">
                <div class="bg-white p-4 rounded-lg shadow-lg">
                    <h3 class="text-xl text-center mb-3" data-i18n="resuanalisis2">Popularidad por Género</h3>
                    <div class="chart-container">
                        <canvas id="genderChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="bg-white p-4 rounded-lg shadow-lg">
                    <h3 class="text-xl text-center mb-3 " data-i18n="resuanalisis3">Preferencias por Edad</h3>
                    <div class="chart-container">
                        <canvas id="agePreferenceChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const preferenceCtx = document.getElementById('preferenceChart').getContext('2d');
    new Chart(preferenceCtx, {
        type: 'line',
        data: {
            labels: ['Enero', 'Febrero', 'Marzo', 'Abril'],
            datasets: [{
                label: 'Comedia',
                data: [20, 25, 30, 35],
                borderColor: '#42a5f5',
                tension: 0.4
            }, {
                label: 'Drama',
                data: [30, 28, 25, 30],
                borderColor: '#ff6384',
                tension: 0.4
            }]
        }
    });

    const genderCtx = document.getElementById('genderChart').getContext('2d');
    new Chart(genderCtx, {
        type: 'bar',
        data: {
            labels: ['Hombres', 'Mujeres', 'No Binario'],
            datasets: [{
                label: 'Usuarios',
                data: [40, 50, 10],
                backgroundColor: ['#4CAF50', '#2196F3', '#FF9800']
            }]
        }
    });

    const ageCtx = document.getElementById('agePreferenceChart').getContext('2d');
    new Chart(ageCtx, {
        type: 'pie',
        data: {
            labels: ['18-24', '25-34', '35-44', '45-54', '55+'],
            datasets: [{
                data: [25, 35, 20, 15, 5],
                backgroundColor: ['#ff6384', '#36a2eb', '#cc65fe', '#ffce56', '#4bc0c0']
            }]
        }
    });
</script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <footer class="bg-dark text-light py-3">
    <div class="container text-center">
      <p data-i18n="resufoorter">2025 Encuesta de Actividades. Todos los derechos reservados.</p>
    </div>
  </footer>
</body>

</html>